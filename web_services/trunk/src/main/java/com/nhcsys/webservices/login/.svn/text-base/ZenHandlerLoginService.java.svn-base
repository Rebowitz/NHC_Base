package com.nhcsys.webservices.login;

import org.apache.log4j.Logger;

//import com.nhcsys.dataaccess.dto.Customers;
//import com.nhcsys.dataaccess.exceptions.CustomersDaoException;
//import com.nhcsys.dataaccess.factory.CustomersDaoFactory;
import com.nhcsys.common.WebServicesFaultTypesEnum;
import com.nhcsys.common.exception.NHCException;

/**
 * LoginServiceSkeleton java skeleton for the axisService
 */
public class ZenHandlerLoginService extends LoginServiceBase {

        protected static final Logger logger = Logger
                        .getLogger(ZenHandlerLoginService.class);

        public String CLASS = "ZenHandlerLoginService: ";

        public int handleAuthenticate(String buserID, String buserPassword)
                        throws NHCException {
                /*String method = "handleAuthenticate";
                Customers[] Customers = null;
                try {
                        Customers = CustomersDaoFactory.create()
                                        .findWhereCustomersEmailAddressEquals(buserID);
                } catch (CustomersDaoException e) {
                    e.printStackTrace();
                    logger.error("Error while retrieving Customers for userID:"+buserID+", "+e.getMessage());
                        NHCException exception =  new NHCException();
                        exception.setFaultCode(WebServicesFaultTypesEnum.DATABASE_ERROR_LOGIN_SERVICE.getCode());
                        exception.setFaultCause(e.getMessage());
                        exception.setFaultDescription("Database Error while retrieving customers for userID and Password-"+
                                        WebServicesFaultTypesEnum.DATABASE_ERROR_LOGIN_SERVICE.getDescription());
                        throw exception;
                }

                if (Customers == null || Customers.length != 1) {
                        logger.error("No customers found for userID:"+buserID);
                        NHCException exception =  new NHCException();
                        exception.setFaultCode(WebServicesFaultTypesEnum.LOGIN_SERVICE_NO_CUSTOMER_FOR_USERID.getCode());
                        exception.setFaultCause(null);
                        exception.setFaultDescription("Database Error while retrieving customers for userID and Password-"+
                            WebServicesFaultTypesEnum.LOGIN_SERVICE_NO_CUSTOMER_FOR_USERID.getDescription(buserID));
                        throw exception;
                }
                return Customers[0].getCustomersId();
                */
            return 0;
        }


}